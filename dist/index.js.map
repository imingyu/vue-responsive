{"version":3,"file":"index.js","sources":["../src/options.js","../src/core.js","../src/index.js"],"sourcesContent":["export default {\r\n    delay: 300,\r\n    media: {\r\n        xs: {\r\n            max: 768\r\n        },\r\n        sm: {\r\n            min: 768,\r\n            max: 992\r\n        },\r\n        md: {\r\n            min: 992,\r\n            max: 1200\r\n        },\r\n        lg: {\r\n            min: 1200,\r\n            max: 1920\r\n        },\r\n        xl: {\r\n            min: 1920\r\n        }\r\n    }\r\n}","import extend from 'jquery-tool-extend';\r\nimport options from './options';\r\nconst Components = [];\r\nvar emitTimer;\r\nconst emitMediaChange = (event) => {\r\n    var width = document.body.clientWidth;\r\n    Components.forEach(item => {\r\n        item.__documentWidth__ = width;\r\n    });\r\n}\r\n(window.addEventListener || window.attachEvent)('resize', event => {\r\n    if (emitTimer) {\r\n        clearTimeout(emitTimer);\r\n    }\r\n    setTimeout(() => {\r\n        emitMediaChange(event);\r\n    }, options.delay);\r\n});\r\n\r\nexport default (ops = {}) => {\r\n    extend(true, ops, options);\r\n    const mixin = {\r\n        props: {},\r\n        data: {\r\n            __responsiveOptions__: ops,\r\n            __documentWidth__: document.body.clientWidth\r\n        },\r\n        watch: {\r\n            __documentWidth__() {\r\n                var medias = this.mediaNames;\r\n\r\n                medias && medias.length > 0 && medias.forEach(prop => {\r\n                    var media = this.__responsiveOptions__.media[prop];\r\n                    var propValue = this[media.prop || prop];\r\n                    propValue = typeof media.convert ? media.convert(propValue) : propValue;\r\n                    if (typeof propValue === 'object') {\r\n                        Object.keys(propValue).forEach(name => {\r\n                            this.$set(this, name, propValue[name])\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        computed: {\r\n            mediaNames() {\r\n                var arr = [];\r\n                for (var prop in __responsiveOptions__.media) {\r\n                    var item = __responsiveOptions__.media[prop];\r\n                    var min = item.min || 0;\r\n                    var max = item.max || Infinity;\r\n                    if (this.__documentWidth__ >= min && this.__documentWidth__ <= max) {\r\n                        arr.push(prop);\r\n                    }\r\n                }\r\n                return arr;\r\n            }\r\n        },\r\n        created() {\r\n            Components.push(this);\r\n        },\r\n        beforeDestroy() {\r\n            Components.splice(Components.indexOf(this), 1);\r\n        }\r\n    };\r\n    for (let prop in ops.media) {\r\n        const item = ops.media[prop];\r\n        prop = item.prop || prop;\r\n        mixin.props[prop] = {};\r\n        mixin.props[prop].type = item.type || null;\r\n        if (typeof item.validator === 'function') {\r\n            mixin.props[prop].validator = item.validator;\r\n        }\r\n    }\r\n    return mixin;\r\n}","import extend from 'jquery-tool-extend';\r\nimport createMixin from './core';\r\nimport options from './options'\r\nimport { version } from '../package.json';\r\ncreateMixin.version = version;\r\ncreateMixin.install = function (Vue, ops = {}) {\r\n    extend(true, options, ops);\r\n    Vue.mixin(createMixin(options));\r\n}\r\nexport default createMixin;"],"names":["Components","emitTimer","emitMediaChange","event","width","document","body","clientWidth","forEach","__documentWidth__","window","addEventListener","attachEvent","options","delay","ops","mixin","medias","mediaNames","length","media","__responsiveOptions__","prop","propValue","convert","keys","$set","name","arr","item","min","max","Infinity","push","splice","indexOf","props","type","validator","createMixin","version","install","Vue"],"mappings":"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"}